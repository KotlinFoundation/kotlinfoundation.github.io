{"data":{"allMdx":{"nodes":[{"id":"b9e4370a-50bc-541d-96bb-fe38d2d3a379","excerpt":"The Kotlin Foundation sponsored four projects for the Google Summer of Code 2024, and we are excited to announce the completion of the Adding Android Support to the Gradle Build Server project. This project brought Android project support to the Gradle Build Server. Despite starting with limited Gradle API knowledge, contributor Tanish Ranjan successfully implemented features like composite build support, Java Home handling, and Android project discovery. These enhancements have been integrated into production, enriching Gradle for Kotlin/Android development.\n\nWe thank Tanish Ranjan and the team of mentors from Gradle and Microsoft ‚Äì Oleg Nenashev, Don√°t Csik√≥s, B√°lint Hegyi, Sheng Chen, and Reinhold ‚Äì for their valuable contributions to the Kotlin and Gradle ecosystems.\n\nCheck out the project page.\n\nIntroduction\n\nHi everyone, my name is Tanish Ranjan, and last year I participated in Google Summer of Code (GSoC) 2024. I had the amazing opportunity to collaborate with folks from Gradle, Microsoft, and Google to bring Android support to the Gradle Build Server, under the umbrella of the Kotlin Foundation.\n\nToday, I‚Äôm excited to share my journey ‚Äì from finding out about GSoC to completing my project. If you‚Äôre considering applying for GSoC or just curious about the experience, hopefully my story will give you some insights!\n\nHow I discovered GSoC (Spoiler: it was last minute!)\n\nI‚Äôll be honest ‚Äì I had no idea what GSoC was until a friend casually mentioned it to me during a phone call. The kicker? This was just a week before the contributor application was set to open!\n\nWithin that week, I dove deep into learning about GSoC ‚Äì the fantastic learning experiences and career opportunities it offers. Pretty quickly, I made up my mind to get involved. I started browsing through the list of registered organizations, hoping to find a project related to Android development, since that‚Äôs where my skills were strongest.\n\nA LinkedIn post caught my attention ‚Äì Android developers were talking about how the Kotlin Foundation was one of the organizations participating in GSoC. After going through Kotlin Foundation‚Äôs project ideas, one grabbed my attention: adding Android support to the Gradle Build Server. It sounded challenging and aligned perfectly with my skills, so I decided to go for it.\n\nCrafting my proposal (And why it took multiple attempts)\n\nWhen the Contributor Application Phase began, contributors could send in up to three proposals, but I chose to focus all my energy on just one: the project with the Kotlin Foundation.\n\nAt this point, I reached out to the organization admin, which turned out to be a game-changer. They reviewed our proposals, offering feedback on what was missing. One of the most common mistakes (including mine!) was not specifying clear deliverables. Everyone wrote about themselves and the project they wanted to contribute to, but we weren‚Äôt clear about what we‚Äôd actually deliver.\n\nI had to revise my proposal twice before I was happy with it. Finally, I submitted it.\n\nThe moment of truth: Getting accepted\n\nOn May 1, 2024, the accepted contributors were announced. I remember that night clearly. I was working on a freelance project when I received an email at around 11:30 pm with the subject: ‚ÄúCongratulations, your proposal with Kotlin Foundation has been accepted!‚Äù\n\nI couldn‚Äôt contain my excitement ‚Äì I was literally bursting with joy! Having just graduated high school in 2023 and not started university yet, the opportunity to work with industry professionals from Google, Microsoft and Gradle felt surreal.\n\nWith my proposal accepted, I dove into researching technologies I‚Äôd need for the project, such as JSON-RPC and Build Server Protocol (BSP), while also setting up my work environment.\n\nCommunity Bonding Phase: Meeting the Team\n\nThe first formal step was the Community Bonding Phase. A meeting was organized to introduce all the mentees to the team and admins, where we discussed the projects and how to approach them and set up regular sync-up meetings.\n\nThis phase helped us ease into the collaboration and set the stage for the real coding to begin.\n\nFirst coding phase: Learning Gradle from scratch\n\nWhen the first coding phase started, I was assigned my first task: adding composite build support to the Gradle Build Server. Here‚Äôs the catch ‚Äì I had no prior experience with the Gradle API or the Gradle Tooling API. So far I had only skimmed the tip of the iceberg by using Gradle in building Android projects.\n\nThe first few weeks were tough, as I struggled to get up to speed. But here‚Äôs a key lesson I learned: It‚Äôs perfectly okay not to know everything at the start. Mentors are there to guide you, but it‚Äôs important to do your own research and tackle hurdles first. When you‚Äôre stuck, that‚Äôs when mentors step in and provide the support you need.\n\nOnce I got comfortable with the technologies and Gradle Build Server project, my work pace picked up. After completing the LanguageExtension downcast fix (which turned out to be a prerequisite for my first task), I tackled the composite builds. This led to my first task being merged just in time for my mid-term evaluation.\n\nMid-term evaluation and a new challenge\n\nA few weeks before the mid-term evaluation, a new task was added to my GSoC project: Android project discovery for the Gradle Build Server. This was a significant addition, but I was excited for the challenge.\n\nWhile the evaluations were being processed, I also started working on Java Home Handling in the Gradle Build Server. Juggling these tasks allowed me to stay ahead and keep making progress.\n\nGradle in Google Summer of Code 2024 - Mid-Term Project Demos\n\nFinal coding phase: Tackling the hardest part\n\nThe final coding phase began with me completing Java Home Handling and submitting a pull request. However, a new update of Gradle for Java extension delayed the PR‚Äôs merge. But this delay actually worked in my favor ‚Äì it gave me time to reconsider our approach to handling Java Home.\n\nOne of my mentors advised against over-engineering the implementation, as it could obscure the logic of Java Home selection and confuse users. Simplifying the approach meant reworking the implementation, but it resulted in a clearer and better experience overall. It was a win-win for the end users.\n\nMy final and most challenging task was adding Android project discovery. This involved working with the AGP (Android Gradle Plugin) API, which had very little documentation on extracting project information for language features.\n\nI reached out to my organization admin, and they connected me with developers from Google who work on AGP. Collaborating with them helped me extract most of the required information. For anything that the AGP API didn‚Äôt publicly expose, I found creative workarounds.\n\nBy the end, I successfully added Android project support to the Gradle Build Server! And here‚Äôs the most exciting part: every piece of code I wrote was integrated directly into production. Each of my contributions was merged into the next release of the Gradle Build Server, meaning the work I did became part of the official releases of VSCode‚Äôs Gradle for Java extension!\n\nWrapping up: Reflections on my GSoC experience\n\nCompleting this project was an incredibly rewarding experience. Not only did I gain technical skills, but I also learned the value of collaboration and communication, and being persistent when tackling challenging tasks.\n\nTo anyone considering GSoC, especially beginners: go for it! Don‚Äôt worry if you‚Äôre not an expert ‚Äì this program is all about learning. And trust me, it‚Äôll be one of the most fulfilling experiences of your programming career.\n\nThanks for reading about my GSoC journey. Feel free to drop me any questions or thoughts! üôÇ\n\nIf you‚Äôre interested in the technical details of what I contributed, be sure to check out my project page for an in-depth look at my work on the Gradle Build Server.","fields":{"slug":"/news/gsoc-2024-adding-android-support-to-gradle-build-server/"},"frontmatter":{"date":"January 21, 2025","title":"Google Summer of Code 2024 ‚Äì Adding Android Support to the Gradle Build Server","spoilerSize":null}},{"id":"9085d007-36ea-52b2-a759-e1a04b2fbab1","excerpt":"The Kotlin Foundation sponsored a project to implement Android support in the kotlinx-benchmark library as part of Google Summer of Code 2024, and we are excited to announce its completion. Thank you to Qizhao Chen and the mentor team from Google and JetBrains ‚Äì Abduqodiri Qurbonzoda, Dustin Lam, and Rahul Ravikumar ‚Äì for your great input.\n\nCheck out the kotlinx-benchmark library.\n\nIntroduction\n\nThe kotlinx-benchmark library is an open-source tool for benchmarking Kotlin code on various platforms, including the JVM, JS, wasmJs, and native. However, the library lacks support for benchmarking on Android. This project integrated this functionality using the existing Android benchmarking library androidx.benchmark to ensure that the current functionality supports Android as well.\n\nGoals of the project\n\nThe main goals for this project were to:\n\nAutomatically detect Android targets in Kotlin Multiplatform projects and retrieve the corresponding compilation output. Create a template Android project that can be used to run the benchmarks. Retrieve benchmark annotations from the Android target and use the androidx.benchmark library to run these benchmarks in the generated project. Display the benchmark results in the console during execution and write the final results to a file for further analysis.\nAchievements\n\nThe project yielded the following key achievements:\n\nAndroid target detection and compilation output: Implemented detection of Android targets in Kotlin Multiplatform projects and retrieval of the necessary compilation outputs. Template Android project generation: Developed a mechanism to generate a template Android project in the build directory, allowing benchmarks to run seamlessly in an Android environment. Annotation mapping and code generation: Decompiled the compilation output of the Android target and retrieved the annotations with associated data, mapped the annotations to the androidx.benchmark configuration, and generated the necessary benchmark code that can be run by the androidx.benchmark library. Test validation: Ensured that the template project and generated code could compile and run successfully on environments, validating the flexibility and robustness of the solution. Capture and reporting of benchmark results: Captured benchmark data from Logcat during execution, with measurement data output to the console and the final benchmark results being written in a file.\nNext steps\n\nFurther improvements will focus on:\n\nAdding Android-specific configuration options to enhance flexibility when running benchmarks. Fetching raw benchmarking results from androidx.benchmark in binary format to replace the current Logcat-based data capture method.","fields":{"slug":"/news/gsoc-2024-android-support-in-kotlinx-benchmark/"},"frontmatter":{"date":"January 21, 2025","title":"Google Summer of Code 2024 ‚Äì Android Support in `kotlinx-benchmark`","spoilerSize":null}}]}}}