"use strict";(self.webpackChunkkotlinfoundation_github_io=self.webpackChunkkotlinfoundation_github_io||[]).push([[388],{93532:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r=n(67294),l=n(11151);function a(e){const t=Object.assign({p:"p",code:"code",a:"a",h2:"h2",ul:"ul",li:"li",strong:"strong"},(0,l.ah)(),e.components);return r.createElement(r.Fragment,null,r.createElement(t.p,null,"The Kotlin Foundation sponsored a project to implement Android support in the ",r.createElement(t.code,null,"kotlinx-benchmark")," library as part of ",r.createElement(t.a,{href:"https://summerofcode.withgoogle.com/archive/2024/organizations/kotlin-foundation"},"Google Summer of Code 2024"),", and we are excited to announce its completion."),"\n",r.createElement(t.p,null,"Thank you to ",r.createElement(t.a,{href:"https://github.com/kx412764776"},"Qizhao Chen")," and the mentor team from Google and JetBrains – Abduqodiri Qurbonzoda, Dustin Lam, and Rahul Ravikumar – for your great input."),"\n",r.createElement(t.p,null,"Check out the ",r.createElement(t.a,{href:"https://github.com/Kotlin/kotlinx-benchmark"},r.createElement(t.code,null,"kotlinx-benchmark")," library"),"."),"\n",r.createElement(t.h2,{id:"introduction"},"Introduction"),"\n",r.createElement(t.p,null,"The ",r.createElement(t.a,{href:"https://github.com/Kotlin/kotlinx-benchmark"},r.createElement(t.code,null,"kotlinx-benchmark")," library")," is an open-source tool for benchmarking Kotlin code on various platforms, including the JVM, JS, wasmJs, and native. However, the library lacks support for benchmarking on Android. This project integrated this functionality using the existing Android benchmarking library ",r.createElement(t.code,null,"androidx.benchmark")," to ensure that the current functionality supports Android as well."),"\n",r.createElement(t.h2,{id:"goals-of-the-project"},"Goals of the project"),"\n",r.createElement(t.p,null,"The main goals for this project were to:"),"\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,"Automatically detect Android targets in Kotlin Multiplatform projects and retrieve the corresponding compilation output."),"\n",r.createElement(t.li,null,"Create a template Android project that can be used to run the benchmarks."),"\n",r.createElement(t.li,null,"Retrieve benchmark annotations from the Android target and use the ",r.createElement(t.code,null,"androidx.benchmark")," library to run these benchmarks in the generated project."),"\n",r.createElement(t.li,null,"Display the benchmark results in the console during execution and write the final results to a file for further analysis."),"\n"),"\n",r.createElement(t.h2,{id:"achievements"},"Achievements"),"\n",r.createElement(t.p,null,"The project yielded the following key achievements:"),"\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,r.createElement(t.strong,null,"Android target detection and compilation output"),": Implemented detection of Android targets in Kotlin Multiplatform projects and retrieval of the necessary compilation outputs."),"\n",r.createElement(t.li,null,r.createElement(t.strong,null,"Template Android project generation"),": Developed a mechanism to generate a template Android project in the build directory, allowing benchmarks to run seamlessly in an Android environment."),"\n",r.createElement(t.li,null,r.createElement(t.strong,null,"Annotation mapping and code generation"),": Decompiled the compilation output of the Android target and retrieved the annotations with associated data, mapped the annotations to the ",r.createElement(t.code,null,"androidx.benchmark")," configuration, and generated the necessary benchmark code that can be run by the androidx.benchmark library."),"\n",r.createElement(t.li,null,r.createElement(t.strong,null,"Test validation"),": Ensured that the template project and generated code could compile and run successfully on environments, validating the flexibility and robustness of the solution."),"\n",r.createElement(t.li,null,r.createElement(t.strong,null,"Capture and reporting of benchmark results"),": Captured benchmark data from Logcat during execution, with measurement data output to the console and the final benchmark results being written in a file."),"\n"),"\n",r.createElement(t.h2,{id:"next-steps"},"Next steps"),"\n",r.createElement(t.p,null,"Further improvements will focus on:"),"\n",r.createElement(t.ul,null,"\n",r.createElement(t.li,null,"Adding Android-specific configuration options to enhance flexibility when running benchmarks."),"\n",r.createElement(t.li,null,"Fetching raw benchmarking results from ",r.createElement(t.code,null,"androidx.benchmark")," in binary format to replace the current Logcat-based data capture method."),"\n"))}var o=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,l.ah)(),e.components);return t?r.createElement(t,e,r.createElement(a,e)):a(e)},i=n(8902),c=n(94184),u=n.n(c),d=n(11883),s=n(25058),m=n(13840),h=n(99787),p=n(85893);function f(e){var t,n;let{children:r,...l}=e;const a=(0,i.K)(),{location:o}=l,{allMdx:{nodes:c}}=(0,d.useStaticQuery)("914412448"),f=c.find((e=>(0,d.withPrefix)(e.fields.slug)===o.pathname)),{title:g,date:b}=f.frontmatter,k=(null===(t=f.frontmatter.socialImage)||void 0===t?void 0:t.publicURL)||(null===(n=f.frontmatter.coverImage)||void 0===n?void 0:n.publicURL);return l.pageContext.frontmatter={...l.pageContext.frontmatter,contactUs:!0},(0,p.jsxs)(s.ZP,{...l,socialImage:k,children:[(0,p.jsx)("p",{className:u()(a("ktl-text-3"),"ktl-text--gray"),children:b}),(0,p.jsx)("h1",{className:u()("ktf-h2 ktf-h3--mm",h.T),children:g}),(0,p.jsx)(m.U,{children:r})]})}function g(e){return r.createElement(f,e,r.createElement(o,e))}},25058:function(e,t,n){n.d(t,{Ar:function(){return p}});n(43999);var r=n(94184),l=n.n(r),a=n(3962),o=n(21772),i=n(31866),c=n(13840),u=n(17077),d=n(33520),s=n(97812),m=n(85893);let h=function(e){return e.Regular="regular",e.Narrow="narrow",e.Wide="wide",e}({});function p(e){let{children:t,location:n,title:r,layout:l,socialImage:c=null,contactUs:p}=e;const g=l===h.Wide?t:(0,m.jsx)(f,{className:h.Narrow===l&&d.L,children:t});return(0,m.jsxs)(s.L.Provider,{value:n,children:[(0,m.jsx)(u.H,{title:r,image:c}),(0,m.jsx)(i.h,{}),(0,m.jsxs)("div",{className:d.b,children:[g,p&&(0,m.jsx)(a.U,{}),(0,m.jsx)(o.$,{})]})]})}function f(e){let{className:t,children:n}=e;return(0,m.jsx)("div",{className:l()(t,"ktl-layout ktl-layout--center ktl-layout--spacing"),children:n})}function g(e){let{children:t,...n}=e;return(0,m.jsx)(p,{...n,children:(0,m.jsx)(c.U,{children:t})})}t.ZP=function(e){var t,n,r,l,a;let{pageContext:o,...i}=e;const c=null==o||null===(t=o.frontmatter)||void 0===t?void 0:t.title,u=null!==(n=null==o||null===(r=o.frontmatter)||void 0===r?void 0:r.layout)&&void 0!==n?n:h.Narrow,d=null!==(l=null==o||null===(a=o.frontmatter)||void 0===a?void 0:a.contactUs)&&void 0!==l&&l;return(0,m.jsx)(g,{...i,title:c,layout:u,contactUs:d})}},99787:function(e,t,n){n.d(t,{T:function(){return r}});var r="Post-module--title--44f76"}}]);
//# sourceMappingURL=component---src-components-post-index-tsx-content-file-path-home-runner-work-kotlinfoundation-github-io-kotlinfoundation-github-io-src-pages-news-gsoc-2024-android-support-in-kotlinx-benchmark-index-md-3ac3c508053f0a3c109b.js.map